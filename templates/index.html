{% extends 'base.html' %}
{% load static %}

{% block title %}Home - JON CAIAZZO.COM{% endblock %}

{% block extra_css %}
<style>
    /* Homepage specific styles */
    .hero-banner {
        background: linear-gradient(135deg, rgba(85, 107, 47, 0.9), rgba(107, 142, 35, 0.9));
        border-radius: var(--border-radius);
        padding: 4rem 2rem;
        text-align: center;
        margin-bottom: 3rem;
        box-shadow: var(--shadow-xl);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(154, 205, 50, 0.3);
    }

    .hero-banner h1 {
        font-size: 3.5rem;
        font-weight: 700;
        color: var(--background-primary);
        margin-bottom: 1rem;
        text-shadow: 0 2px 4px rgba(47, 79, 47, 0.3);
    }

    .hero-banner .subtitle {
        font-size: 1.5rem;
        color: rgba(245, 245, 220, 0.9);
        margin-bottom: 0.5rem;
    }

    .hero-banner .description {
        font-size: 1.1rem;
        color: rgba(245, 245, 220, 0.8);
        max-width: 600px;
        margin: 0 auto 2rem;
        line-height: 1.6;
    }

    .hero-actions {
        display: flex;
        gap: 1rem;
        justify-content: center;
        flex-wrap: wrap;
    }

    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 2rem;
        margin-bottom: 3rem;
    }

    .stat-card {
        background: rgba(245, 245, 220, 0.95);
        border-radius: var(--border-radius);
        padding: 2rem;
        text-align: center;
        box-shadow: var(--shadow-lg);
        transition: var(--transition);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(154, 205, 50, 0.3);
    }

    .stat-card:hover {
        transform: translateY(-5px);
        box-shadow: var(--shadow-xl);
    }

    .stat-card .icon {
        font-size: 3rem;
        color: var(--primary-color);
        margin-bottom: 1rem;
    }

    .stat-card h3 {
        font-size: 1.5rem;
        color: var(--text-primary);
        margin-bottom: 0.5rem;
    }

    .stat-card p {
        color: var(--text-secondary);
        font-size: 0.9rem;
    }

    /* GitHub Section */
    .github-section {
        background: rgba(245, 245, 220, 0.95);
        border-radius: var(--border-radius);
        padding: 3rem 2rem;
        margin-bottom: 3rem;
        box-shadow: var(--shadow-lg);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(154, 205, 50, 0.3);
    }

    .github-section h2 {
        font-size: 2.5rem;
        color: var(--text-primary);
        text-align: center;
        margin-bottom: 2rem;
        font-weight: 700;
    }

    .repos-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 2rem;
        margin-bottom: 2rem;
    }

    .repo-card {
        background: var(--background-primary);
        border-radius: var(--border-radius);
        padding: 2rem;
        box-shadow: var(--shadow-md);
        transition: var(--transition);
        border: 1px solid var(--border-color);
        position: relative;
        overflow: hidden;
    }

    .repo-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
    }

    .repo-card:hover {
        transform: translateY(-5px);
        box-shadow: var(--shadow-xl);
    }

    .repo-name {
        font-size: 1.25rem;
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: 1rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .repo-name a {
        color: var(--primary-color);
        text-decoration: none;
    }

    .repo-name a:hover {
        text-decoration: underline;
    }

    .repo-description {
        color: var(--text-secondary);
        margin-bottom: 1.5rem;
        font-size: 0.95rem;
        line-height: 1.6;
    }

    .repo-stats {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 0.875rem;
        color: var(--text-light);
    }

    .repo-language {
        background: var(--accent-color);
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 1rem;
        font-size: 0.75rem;
        font-weight: 500;
    }

    .repo-meta {
        display: flex;
        gap: 1rem;
        align-items: center;
    }

    .loading {
        text-align: center;
        color: var(--text-secondary);
        font-style: italic;
        padding: 3rem;
        font-size: 1.1rem;
    }

    .github-profile-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        padding: 1rem 2rem;
        background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        color: var(--background-primary);
        text-decoration: none;
        border-radius: var(--border-radius);
        font-weight: 600;
        transition: var(--transition);
        box-shadow: var(--shadow-md);
        margin: 0 auto;
        display: block;
        width: fit-content;
    }

    .github-profile-btn:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-lg);
        color: var(--background-primary);
        text-decoration: none;
    }

    /* Featured Image */
    .featured-image {
        text-align: center;
        margin-top: 3rem;
    }

    .featured-image img {
        max-width: 400px;
        height: auto;
        border-radius: var(--border-radius);
        box-shadow: var(--shadow-xl);
        transition: var(--transition);
    }

    .featured-image img:hover {
        transform: scale(1.05);
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        .hero-banner h1 {
            font-size: 2.5rem;
        }
        
        .hero-banner .subtitle {
            font-size: 1.2rem;
        }
        
        .hero-actions {
            flex-direction: column;
            align-items: center;
        }
        
        .stats-grid {
            grid-template-columns: 1fr;
        }
        
        .repos-container {
            grid-template-columns: 1fr;
        }
        
        .github-section {
            padding: 2rem 1rem;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="content">
    <!-- Hero Section -->
    <section class="hero-banner fade-in-up">
        <h1>Jon Caiazzo</h1>
        <p class="subtitle">Full Stack Developer & Tech Enthusiast</p>
        <p class="description">
            Passionate about creating innovative solutions and building amazing web experiences. 
            Welcome to my digital space where code meets creativity.
        </p>
        <div class="hero-actions">
            <a href="{% url 'projects' %}" class="btn btn-primary">
                <i class="fas fa-code"></i> View My Work
            </a>
            <a href="{% url 'contact' %}" class="btn btn-secondary">
                <i class="fas fa-envelope"></i> Get In Touch
            </a>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="stats-grid">
        <div class="stat-card fade-in-up">
            <div class="icon">
                <i class="fas fa-code"></i>
            </div>
            <h3>Full Stack</h3>
            <p>Experienced in both frontend and backend development with modern technologies</p>
        </div>
        <div class="stat-card fade-in-up">
            <div class="icon">
                <i class="fas fa-mobile-alt"></i>
            </div>
            <h3>Responsive</h3>
            <p>Building mobile-first, responsive applications that work on all devices</p>
        </div>
        <div class="stat-card fade-in-up">
            <div class="icon">
                <i class="fas fa-rocket"></i>
            </div>
            <h3>Performance</h3>
            <p>Optimizing applications for speed, scalability, and user experience</p>
        </div>
    </section>

    <!-- GitHub Repositories Section -->
    <section class="github-section fade-in-up">
        <h2><i class="fab fa-github"></i> Latest Projects</h2>
        <div id="repos-container" class="repos-container">
            <div class="loading">
                <i class="fas fa-spinner fa-spin"></i> Loading repositories...
            </div>
        </div>
        <a href="https://github.com/Jon-C12" target="_blank" class="github-profile-btn">
            <i class="fab fa-github"></i> Visit My GitHub Profile
        </a>
    </section>

    <!-- Featured Image -->
    <section class="featured-image fade-in-up">
        <img src="https://th.bing.com/th/id/R.63c7d5e69e85026692375e33c737a043?rik=2BOGBKSPyV9%2frw&riu=http%3a%2f%2fwww.animalspot.net%2fwp-content%2fuploads%2f2017%2f08%2fPenguin-Images.jpg&ehk=FKU8UE2yuMApiQtyGgZhIIFZxwBmFi3lxXhHjfOcAkw%3d&risl=&pid=ImgRaw&r=0"
             alt="Adorable penguin - because every good website needs a penguin!"
             loading="lazy">
    </section>
</div>
{% endblock %}

{% block extra_js %}
<script>
async function fetchGitHubRepos() {
    try {
        const response = await fetch('https://api.github.com/users/Jon-C12/repos?sort=updated&per_page=6');
        const repos = await response.json();
        
        const container = document.getElementById('repos-container');
        container.innerHTML = '';
        
        if (repos.length === 0) {
            container.innerHTML = '<div class="loading">No repositories found.</div>';
            return;
        }
        
        repos.forEach(repo => {
            const repoCard = document.createElement('div');
            repoCard.className = 'repo-card';
            
            const description = repo.description || 'No description available';
            const language = repo.language || 'Unknown';
            const stars = repo.stargazers_count || 0;
            const forks = repo.forks_count || 0;
            const updatedDate = new Date(repo.updated_at).toLocaleDateString();
            
            repoCard.innerHTML = `
                <div class="repo-name">
                    <i class="fab fa-github"></i>
                    <a href="${repo.html_url}" target="_blank">${repo.name}</a>
                </div>
                <div class="repo-description">${description}</div>
                <div class="repo-stats">
                    <div class="repo-meta">
                        <span class="repo-language">${language}</span>
                        <span><i class="fas fa-star"></i> ${stars}</span>
                        <span><i class="fas fa-code-branch"></i> ${forks}</span>
                    </div>
                    <span class="updated-date">Updated: ${updatedDate}</span>
                </div>
            `;
            
            container.appendChild(repoCard);
        });
        
        // Add animation to cards
        const cards = container.querySelectorAll('.repo-card');
        cards.forEach((card, index) => {
            card.style.animationDelay = `${index * 0.1}s`;
            card.classList.add('fade-in-up');
        });
        
    } catch (error) {
        console.error('Error fetching GitHub repos:', error);
        document.getElementById('repos-container').innerHTML = 
            '<div class="loading"><i class="fas fa-exclamation-triangle"></i> Error loading repositories. Please try again later.</div>';
    }
}

// Add smooth scrolling for anchor links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});

// Add intersection observer for animations
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add('fade-in-up');
        }
    });
}, observerOptions);

// Load repositories and setup animations when page loads
document.addEventListener('DOMContentLoaded', function() {
    fetchGitHubRepos();
    
    // Observe all elements with fade-in-up class
    document.querySelectorAll('.fade-in-up').forEach(el => {
        observer.observe(el);
    });
});
</script>
{% endblock %}
